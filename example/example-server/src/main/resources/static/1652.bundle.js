"use strict";(self.webpackChunkadmin_pro_ui=self.webpackChunkadmin_pro_ui||[]).push([[1652,1775],{1775:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var r=n(74848),a=n(20533),o=n(88562),i=n(44548),u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},u.apply(this,arguments)};const l=function(e){return(0,a.useEffect)((function(){var t;e.dataVersion&&e.data&&(console.log("data",e.data),null===(t=e.form)||void 0===t||t.setFieldsValue(u({},e.data)))}),[e.dataVersion]),(0,r.jsxs)(o.lV,{form:e.form,layout:"vertical",children:[(0,r.jsx)(o.ZQ,{name:"id",hidden:!0}),(0,r.jsx)(o.ZQ,{name:"username",hidden:!0}),(0,r.jsx)(o.ZQ,{name:"days",label:"请假天数",inputType:"number",required:!0,validateFunction:i.wb.validateNotEmpty}),(0,r.jsx)(o.Lz,{name:"desc",label:"请假原因",required:!0,validateFunction:i.wb.validateNotEmpty})]})}},71652:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(74848),a=n(20533),o=n.n(a),i=n(62978),u=n(93658),l=n(77931);function c(e,t,n,r){return a=this,o=void 0,u=function(){return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=u(0),i.throw=u(1),i.return=u(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}}(this,(function(a){return[2,(0,l.MY)("/api/query/leave/list",e,t,n,r)]}))},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{l(u.next(e))}catch(e){t(e)}}function r(e){try{l(u.throw(e))}catch(e){t(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof i?a:new i((function(e){e(a)}))).then(n,r)}l((u=u.apply(a,o||[])).next())}));var a,o,i,u}var s=n(79249),f=n(1775),d=n(67493);const p=function(){var e=o().useState(!1),t=e[0],n=e[1],a=localStorage.getItem("username"),l=o().useRef();return(0,r.jsxs)(i.LN,{children:[(0,r.jsx)(u.A,{actionRef:l,toolBarRender:function(){return[(0,r.jsx)(s.Ay,{type:"primary",onClick:function(){n(!0)},children:"发起请假"})]},columns:[{title:"编号",dataIndex:"id",search:!1},{title:"说明",dataIndex:"desc"},{title:"请假天数",dataIndex:"days"},{title:"请假人",dataIndex:"username"}],search:!1,rowKey:"id",request:function(e,t,n){return r=void 0,a=void 0,i=function(){return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=u(0),i.throw=u(1),i.return=u(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}}(this,(function(r){return[2,c(e,t,n,[])]}))},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{l(i.next(e))}catch(e){t(e)}}function u(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(n,u)}l((i=i.apply(r,a||[])).next())}));var r,a,o,i}}),(0,r.jsx)(d.Rn,{visible:t,setVisible:n,view:f.default,workCode:"leave",formParams:{clazzName:"com.codingapi.example.infra.flow.form.LeaveForm",username:a}})]})}}}]);