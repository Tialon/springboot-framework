(self.webpackChunkadmin_pro_ui=self.webpackChunkadmin_pro_ui||[]).push([[721,1775,2247],{1775:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>u});var r=t(74848),s=t(20533),a=t(88562),o=t(44548),i=function(){return i=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},i.apply(this,arguments)};const u=function(e){return(0,s.useEffect)((function(){var n;e.dataVersion&&e.data&&(console.log("data",e.data),null===(n=e.form)||void 0===n||n.setFieldsValue(i({},e.data)))}),[e.dataVersion]),(0,r.jsxs)(a.lV,{form:e.form,layout:"vertical",children:[(0,r.jsx)(a.ZQ,{name:"id",hidden:!0}),(0,r.jsx)(a.ZQ,{name:"username",hidden:!0}),(0,r.jsx)(a.ZQ,{name:"days",label:"请假天数",inputType:"number",required:!0,validateFunction:o.wb.validateNotEmpty}),(0,r.jsx)(a.Lz,{name:"desc",label:"请假原因",required:!0,validateFunction:o.wb.validateNotEmpty})]})}},22496:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>p});var r=t(74848),s=t(20533),a=t.n(s),o=t(62978),i=t(93658),u=t(34419),d=t(95093),l=t.n(d),c=t(63532),j=t(10277),f=(t(30721),t(1775)),m=t(67493),h=function(e,n,t,r){return new(t||(t=Promise))((function(s,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function i(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?s(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,i)}u((r=r.apply(e,n||[])).next())}))},v=function(e,n){var t,r,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=i(0),o.throw=i(1),o.return=i(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(a=0)),a;)try{if(t=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((s=(s=a.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){a.label=i[1];break}if(6===i[0]&&a.label<s[1]){a.label=s[1],s=i;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(i);break}s[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};const p=function(){var e=a().useState(!1),n=e[0],t=e[1],d=a().useState(""),p=d[0],b=d[1],y=a().useState(!1),k=(y[0],y[1]),x=a().useState("todo"),g=x[0],w=x[1],z=a().useRef(),I=a().useRef(),T=a().useRef(),N=a().useRef(),A=a().useRef(),R=a().useRef(),C=[{title:"编号",dataIndex:"id",search:!1},{title:"pre编号",dataIndex:"preId",search:!1},{title:"流程编号",dataIndex:"processId"},{title:"标题",dataIndex:"title",render:function(e,n){return(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})}},{title:"创建时间",dataIndex:"createTime",valueType:"dateTime"},{title:"是否延期",dataIndex:"postponedCount",render:function(e){return e>1?"延期":"-"}},{title:"超时到期时间",dataIndex:"timeoutTime",render:function(e){return e<=0?"-":l()(e).format("YYYY-MM-DD HH:mm:ss")}},{title:"流程发起人",dataIndex:"createOperatorName"},{title:"流程审批人",dataIndex:"currentOperatorName"},{title:"状态",dataIndex:"flowType",render:function(e){return"TODO"===e?"办理中":"DONE"===e?"已办理":"TRANSFER"===e?"已转办":"CIRCULATE"===e?"抄送":e}},{title:"办理意见",dataIndex:"opinionAdvice"},{title:"流程状态",dataIndex:"flowStatus",render:function(e){return"RUNNING"===e?"进行中":"FINISH"===e?"已结束":e}},{title:"更新时间",dataIndex:"updateTime",valueType:"dateTime"},{title:"操作",dataIndex:"option",valueType:"option",render:function(e,n){return[(0,r.jsx)("a",{onClick:function(){b(n.id),k(!0),t(!0)},children:"详情"},"detail"),(0,r.jsx)("a",{onClick:function(){b(n.id),k(!1),t(!0)},children:"办理"},"submit"),(0,r.jsx)("a",{onClick:function(){var e;e={recordId:n.id},(0,u.Gb)(e).then((function(e){e.success&&(c.Ay.success("催办提醒已发送").then(),O())}))},children:"催办"},"urge")]}}],O=function(){var e,n,t,r,s,a;"todo"===g&&(null===(e=z.current)||void 0===e||e.reload()),"done"===g&&(null===(n=I.current)||void 0===n||n.reload()),"initiated"===g&&(null===(t=T.current)||void 0===t||t.reload()),"timeoutTodo"===g&&(null===(r=N.current)||void 0===r||r.reload()),"postponedTodo"===g&&(null===(s=A.current)||void 0===s||s.reload()),"all"===g&&(null===(a=R.current)||void 0===a||a.reload())};return(0,s.useEffect)((function(){O()}),[n,g]),(0,r.jsxs)(o.LN,{children:[(0,r.jsx)(j.A,{onChange:function(e){w(e)},items:[{label:"我的待办",key:"todo",children:(0,r.jsx)(i.A,{actionRef:z,search:!1,columns:C,rowClassName:function(e){return e.read?"record-read":"record-unread"},request:function(e,n,t){return h(void 0,void 0,void 0,(function(){return v(this,(function(r){return[2,(0,u.UQ)(e,n,t,[])]}))}))}})},{label:"我的已办",key:"done",children:(0,r.jsx)(i.A,{actionRef:I,search:!1,columns:C,rowClassName:function(e){return e.read?"record-read":"record-unread"},request:function(e,n,t){return h(void 0,void 0,void 0,(function(){return v(this,(function(r){return[2,(0,u.G7)(e,n,t,[])]}))}))}})},{label:"我发起的",key:"initiated",children:(0,r.jsx)(i.A,{actionRef:T,search:!1,columns:C,rowClassName:function(e){return e.read?"record-read":"record-unread"},request:function(e,n,t){return h(void 0,void 0,void 0,(function(){return v(this,(function(r){return[2,(0,u.r_)(e,n,t,[])]}))}))}})},{label:"超时待办",key:"timeoutTodo",children:(0,r.jsx)(i.A,{actionRef:N,search:!1,columns:C,rowClassName:function(e){return e.read?"record-read":"record-unread"},request:function(e,n,t){return h(void 0,void 0,void 0,(function(){return v(this,(function(r){return[2,(0,u.Fk)(e,n,t,[])]}))}))}})},{label:"延期待办",key:"postponedTodo",children:(0,r.jsx)(i.A,{actionRef:A,search:!1,columns:C,rowClassName:function(e){return e.read?"record-read":"record-unread"},request:function(e,n,t){return h(void 0,void 0,void 0,(function(){return v(this,(function(r){return[2,(0,u.s$)(e,n,t,[])]}))}))}})},{label:"全部流程",key:"all",children:(0,r.jsx)(i.A,{actionRef:R,search:!1,columns:C,rowClassName:function(e){return e.read?"record-read":"record-unread"},request:function(e,n,t){return h(void 0,void 0,void 0,(function(){return v(this,(function(r){return[2,(0,u.Tx)(e,n,t,[])]}))}))}})}]}),(0,r.jsx)(m.Rn,{visible:n,setVisible:t,id:p,view:{default:f.default}})]})}},30721:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>p});var r=t(85072),s=t.n(r),a=t(97825),o=t.n(a),i=t(77659),u=t.n(i),d=t(55056),l=t.n(d),c=t(10540),j=t.n(c),f=t(41113),m=t.n(f),h=t(99510),v={};v.styleTagTransform=m(),v.setAttributes=l(),v.insert=u().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=j(),s()(h.A,v);const p=h.A&&h.A.locals?h.A.locals:void 0},35358:(e,n,t)=>{var r={"./af":25177,"./af.js":25177,"./ar":61509,"./ar-dz":41488,"./ar-dz.js":41488,"./ar-kw":58676,"./ar-kw.js":58676,"./ar-ly":42353,"./ar-ly.js":42353,"./ar-ma":24496,"./ar-ma.js":24496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":82682,"./ar-sa.js":82682,"./ar-tn":89756,"./ar-tn.js":89756,"./ar.js":61509,"./az":95533,"./az.js":95533,"./be":28959,"./be.js":28959,"./bg":47777,"./bg.js":47777,"./bm":54903,"./bm.js":54903,"./bn":61290,"./bn-bd":17357,"./bn-bd.js":17357,"./bn.js":61290,"./bo":31545,"./bo.js":31545,"./br":11470,"./br.js":11470,"./bs":44429,"./bs.js":44429,"./ca":7306,"./ca.js":7306,"./cs":56464,"./cs.js":56464,"./cv":73635,"./cv.js":73635,"./cy":64226,"./cy.js":64226,"./da":93601,"./da.js":93601,"./de":77853,"./de-at":26111,"./de-at.js":26111,"./de-ch":54697,"./de-ch.js":54697,"./de.js":77853,"./dv":60708,"./dv.js":60708,"./el":54691,"./el.js":54691,"./en-au":53872,"./en-au.js":53872,"./en-ca":28298,"./en-ca.js":28298,"./en-gb":56195,"./en-gb.js":56195,"./en-ie":66584,"./en-ie.js":66584,"./en-il":65543,"./en-il.js":65543,"./en-in":9033,"./en-in.js":9033,"./en-nz":79402,"./en-nz.js":79402,"./en-sg":43004,"./en-sg.js":43004,"./eo":32934,"./eo.js":32934,"./es":97650,"./es-do":20838,"./es-do.js":20838,"./es-mx":17730,"./es-mx.js":17730,"./es-us":56575,"./es-us.js":56575,"./es.js":97650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":90527,"./fi.js":90527,"./fil":95995,"./fil.js":95995,"./fo":52477,"./fo.js":52477,"./fr":85498,"./fr-ca":26435,"./fr-ca.js":26435,"./fr-ch":37892,"./fr-ch.js":37892,"./fr.js":85498,"./fy":37071,"./fy.js":37071,"./ga":41734,"./ga.js":41734,"./gd":70217,"./gd.js":70217,"./gl":77329,"./gl.js":77329,"./gom-deva":32124,"./gom-deva.js":32124,"./gom-latn":93383,"./gom-latn.js":93383,"./gu":95050,"./gu.js":95050,"./he":11713,"./he.js":11713,"./hi":43861,"./hi.js":43861,"./hr":26308,"./hr.js":26308,"./hu":90609,"./hu.js":90609,"./hy-am":17160,"./hy-am.js":17160,"./id":74063,"./id.js":74063,"./is":66993,"./is.js":66993,"./it":88383,"./it-ch":21827,"./it-ch.js":21827,"./it.js":88383,"./ja":23827,"./ja.js":23827,"./jv":89722,"./jv.js":89722,"./ka":41794,"./ka.js":41794,"./kk":27088,"./kk.js":27088,"./km":96870,"./km.js":96870,"./kn":84451,"./kn.js":84451,"./ko":63164,"./ko.js":63164,"./ku":98174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":98174,"./ky":78474,"./ky.js":78474,"./lb":79680,"./lb.js":79680,"./lo":15867,"./lo.js":15867,"./lt":45766,"./lt.js":45766,"./lv":69532,"./lv.js":69532,"./me":58076,"./me.js":58076,"./mi":41848,"./mi.js":41848,"./mk":30306,"./mk.js":30306,"./ml":73739,"./ml.js":73739,"./mn":99053,"./mn.js":99053,"./mr":86169,"./mr.js":86169,"./ms":73386,"./ms-my":92297,"./ms-my.js":92297,"./ms.js":73386,"./mt":77075,"./mt.js":77075,"./my":72264,"./my.js":72264,"./nb":22274,"./nb.js":22274,"./ne":8235,"./ne.js":8235,"./nl":92572,"./nl-be":43784,"./nl-be.js":43784,"./nl.js":92572,"./nn":54566,"./nn.js":54566,"./oc-lnc":69330,"./oc-lnc.js":69330,"./pa-in":29849,"./pa-in.js":29849,"./pl":94418,"./pl.js":94418,"./pt":79834,"./pt-br":48303,"./pt-br.js":48303,"./pt.js":79834,"./ro":24457,"./ro.js":24457,"./ru":82271,"./ru.js":82271,"./sd":1221,"./sd.js":1221,"./se":33478,"./se.js":33478,"./si":17538,"./si.js":17538,"./sk":5784,"./sk.js":5784,"./sl":46637,"./sl.js":46637,"./sq":86794,"./sq.js":86794,"./sr":45719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":45719,"./ss":56e3,"./ss.js":56e3,"./sv":41011,"./sv.js":41011,"./sw":40748,"./sw.js":40748,"./ta":11025,"./ta.js":11025,"./te":11885,"./te.js":11885,"./tet":28861,"./tet.js":28861,"./tg":86571,"./tg.js":86571,"./th":49773,"./th.js":49773,"./tk":59527,"./tk.js":59527,"./tl-ph":29231,"./tl-ph.js":29231,"./tlh":31052,"./tlh.js":31052,"./tr":85096,"./tr.js":85096,"./tzl":79846,"./tzl.js":79846,"./tzm":81765,"./tzm-latn":97711,"./tzm-latn.js":97711,"./tzm.js":81765,"./ug-cn":48414,"./ug-cn.js":48414,"./uk":16618,"./uk.js":16618,"./ur":57777,"./ur.js":57777,"./uz":57609,"./uz-latn":72475,"./uz-latn.js":72475,"./uz.js":57609,"./vi":21135,"./vi.js":21135,"./x-pseudo":64051,"./x-pseudo.js":64051,"./yo":82218,"./yo.js":82218,"./zh-cn":52648,"./zh-cn.js":52648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":31541,"./zh-mo.js":31541,"./zh-tw":50304,"./zh-tw.js":50304};function s(e){var n=a(e);return t(n)}function a(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id=35358},99510:(e,n,t)=>{"use strict";t.d(n,{A:()=>i});var r=t(31601),s=t.n(r),a=t(76314),o=t.n(a)()(s());o.push([e.id,".record-read{font-weight:normal}.record-unread{font-weight:bold}",""]);const i=o}}]);